!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):r.euVatValidation=t()}(this,function(){"use strict";var r=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function t(){r(this,t)}return t.prototype.ATVATCheckDigit=function(r){for(var t=0,e=[1,2,1,2,1,2,1],i=0,c=0;c<7;c++)i=Number(r.charAt(c))*e[c],t+=i>9?Math.floor(i/10)+i%10:i;return t=10-(t+4)%10,10==t&&(t=0),t==r.slice(7,8)},t.prototype.BEVATCheckDigit=function(r){return 9==r.length&&(r="0"+r),0!=r.slice(1,2)&&97-r.slice(0,8)%97==r.slice(8,10)},t.prototype.BGVATCheckDigit=function(r){if(9==r.length){for(var t=0,e=0,i=0;i<8;i++)e+=Number(r.charAt(i))*(i+1);if(10!=(t=e%11))return t==r.slice(8);for(var e=0,i=0;i<8;i++)e+=Number(r.charAt(i))*(i+3);return t=e%11,10==t&&(t=0),t==r.slice(8)}if(/^\d\d[0-5]\d[0-3]\d\d{4}$/.test(r)){var c=Number(r.slice(2,4));if(c>0&&c<13||c>20&&c<33||c>40&&c<53){for(var n=[2,4,8,5,10,9,7,3,6],t=0,i=0;i<9;i++)t+=Number(r.charAt(i))*n[i];if(t%=11,10==t&&(t=0),t==r.substr(9,1))return!0}}for(var n=[21,19,17,13,11,9,7,3,1],t=0,i=0;i<9;i++)t+=Number(r.charAt(i))*n[i];if(t%10==r.substr(9,1))return!0;for(var n=[4,3,2,7,6,5,4,3,2],t=0,i=0;i<9;i++)t+=Number(r.charAt(i))*n[i];return 10!=(t=11-t%11)&&(11==t&&(t=0),t==r.substr(9,1))},t.prototype.CHEVATCheckDigit=function(r){for(var t=[5,4,3,2,7,6,5,4],e=0,i=0;i<8;i++)e+=Number(r.charAt(i))*t[i];return 10!=(e=11-e%11)&&(11==e&&(e=0),e==r.substr(8,1))},t.prototype.CYVATCheckDigit=function(r){if(Number(12==r.slice(0,2)))return!1;for(var t=0,e=0;e<8;e++){var i=Number(r.charAt(e));if(e%2==0)switch(i){case 0:i=1;break;case 1:i=0;break;case 2:i=5;break;case 3:i=7;break;case 4:i=9;break;default:i=2*i+3}t+=i}return t%=26,(t=String.fromCharCode(t+65))==r.substr(8,1)},t.prototype.CZVATCheckDigit=function(r){var t=0,e=[8,7,6,5,4,3,2],i=new Array;i[0]=/^\d{8}$/,i[1]=/^[0-5][0-9][0|1|5|6][0-9][0-3][0-9]\d{3}$/,i[2]=/^6\d{8}$/,i[3]=/^\d{2}[0-3|5-8][0-9][0-3][0-9]\d{4}$/;var c=0;if(i[0].test(r)){for(var c=0;c<7;c++)t+=Number(r.charAt(c))*e[c];return t=11-t%11,10==t&&(t=0),11==t&&(t=1),t==r.slice(7,8)}if(i[1].test(r))return!(u=Number(r.slice(0,2))>62);if(i[2].test(r)){for(var c=0;c<7;c++)t+=Number(r.charAt(c+1))*e[c];if(t%11==0)var n=t+11;else var n=11*Math.ceil(t/11);return[8,7,6,5,4,3,2,1,0,9,8][n-t-1]==r.slice(8,9)}if(i[3].test(r)){var u=Number(r.slice(0,2))+Number(r.slice(2,4))+Number(r.slice(4,6))+Number(r.slice(6,8))+Number(r.slice(8));return u%11==0&&Number(r)%11==0}return!1},t.prototype.DEVATCheckDigit=function(r){for(var t=10,e=0,i=0;i<8;i++)e=(Number(r.charAt(i))+t)%10,0==e&&(e=10),t=2*e%11;return(11-t==10?0:11-t)==r.slice(8,9)},t.prototype.DKVATCheckDigit=function(r){for(var t=0,e=[2,7,6,5,4,3,2,1],i=0;i<8;i++)t+=Number(r.charAt(i))*e[i];return 0==(t%=11)},t.prototype.EEVATCheckDigit=function(r){for(var t=0,e=[3,7,1,3,7,1,3,7],i=0;i<8;i++)t+=Number(r.charAt(i))*e[i];return t=10-t%10,10==t&&(t=0),t==r.slice(8,9)},t.prototype.ELVATCheckDigit=function(r){var t=0,e=[256,128,64,32,16,8,4,2];8==r.length&&(r="0"+r);for(var i=0;i<8;i++)t+=Number(r.charAt(i))*e[i];return t%=11,t>9&&(t=0),t==r.slice(8,9)},t.prototype.ESVATCheckDigit=function(r){var t=0,e=0,i=[2,1,2,1,2,1,2],c=new Array;c[0]=/^[A-H|J|U|V]\d{8}$/,c[1]=/^[A-H|N-S|W]\d{7}[A-J]$/,c[2]=/^[0-9|Y|Z]\d{7}[A-Z]$/,c[3]=/^[K|L|M|X]\d{7}[A-Z]$/;var n=0;if(c[0].test(r)){for(n=0;n<7;n++)e=Number(r.charAt(n+1))*i[n],t+=e>9?Math.floor(e/10)+e%10:e;return t=10-t%10,10==t&&(t=0),t==r.slice(8,9)}if(c[1].test(r)){for(n=0;n<7;n++)e=Number(r.charAt(n+1))*i[n],t+=e>9?Math.floor(e/10)+e%10:e;return t=10-t%10,(t=String.fromCharCode(t+64))==r.slice(8,9)}if(c[2].test(r)){var u=r;return"Y"==u.substring(0,1)&&(u=u.replace(/Y/,"1")),"Z"==u.substring(0,1)&&(u=u.replace(/Z/,"2")),u.charAt(8)=="TRWAGMYFPDXBNJZSQVHLCKE".charAt(Number(u.substring(0,8))%23)}return!!c[3].test(r)&&r.charAt(8)=="TRWAGMYFPDXBNJZSQVHLCKE".charAt(Number(r.substring(1,8))%23)},t.prototype.EUVATCheckDigit=function(r){return!0},t.prototype.FIVATCheckDigit=function(r){for(var t=0,e=[7,9,10,5,8,4,2],i=0;i<7;i++)t+=Number(r.charAt(i))*e[i];return t=11-t%11,t>9&&(t=0),t==r.slice(7,8)},t.prototype.FRVATCheckDigit=function(r){if(!/^\d{11}$/.test(r))return!0;var t=r.substring(2);return(t=(100*t+12)%97)==r.slice(0,2)},t.prototype.GBVATCheckDigit=function(r){var t=[8,7,6,5,4,3,2];if("GD"==r.substr(0,2))return r.substr(2,3)<500;if("HA"==r.substr(0,2))return r.substr(2,3)>499;var e=0;if(0==Number(r.slice(0)))return!1;for(var i=Number(r.slice(0,7)),c=0;c<7;c++)e+=Number(r.charAt(c))*t[c];for(var n=e;n>0;)n-=97;return(n=Math.abs(n))==r.slice(7,9)&&i<9990001&&(i<1e5||i>999999)&&(i<9490001||i>97e5)||(n>=55?n-=55:n+=42,n==r.slice(7,9)&&i>1e6)},t.prototype.HRVATCheckDigit=function(r){for(var t=10,e=0,i=0;i<10;i++)e=(Number(r.charAt(i))+t)%10,0==e&&(e=10),t=2*e%11;return(t+1*r.slice(10,11))%10==1},t.prototype.HUVATCheckDigit=function(r){for(var t=0,e=[9,7,3,1,9,7,3],i=0;i<7;i++)t+=Number(r.charAt(i))*e[i];return t=10-t%10,10==t&&(t=0),t==r.slice(7,8)},t.prototype.IEVATCheckDigit=function(r){var t=0,e=[8,7,6,5,4,3,2];/^\d[A-Z\*\+]/.test(r)&&(r="0"+r.substring(2,7)+r.substring(0,1)+r.substring(7,8));for(var i=0;i<7;i++)t+=Number(r.charAt(i))*e[i];return/^\d{7}[A-Z][AH]$/.test(r)&&("H"==r.charAt(8)?t+=72:t+=9),t%=23,(t=0==t?"W":String.fromCharCode(t+64))==r.slice(7,8)},t.prototype.ITVATCheckDigit=function(r){var t=0,e=[1,2,1,2,1,2,1,2,1,2],i=void 0;if(0==Number(r.slice(0,7)))return!1;if((i=Number(r.slice(7,10)))<1||i>201&&999!=i&&888!=i)return!1;for(var c=0;c<10;c++)i=Number(r.charAt(c))*e[c],t+=i>9?Math.floor(i/10)+i%10:i;return t=10-t%10,t>9&&(t=0),t==r.slice(10,11)},t.prototype.LTVATCheckDigit=function(r){if(9==r.length){if(!/^\d{7}1/.test(r))return!1;for(var t=0,e=0;e<8;e++)t+=Number(r.charAt(e))*(e+1);if(t%11==10){var i=[3,4,5,6,7,8,9,1];for(t=0,e=0;e<8;e++)t+=Number(r.charAt(e))*i[e]}return t%=11,10==t&&(t=0),t==r.slice(8,9)}if(!/^\d{10}1/.test(r))return!1;for(var t=0,i=[1,2,3,4,5,6,7,8,9,1,2],e=0;e<11;e++)t+=Number(r.charAt(e))*i[e];if(t%11==10){var i=[3,4,5,6,7,8,9,1,2,3,4];for(t=0,e=0;e<11;e++)t+=Number(r.charAt(e))*i[e]}return t%=11,10==t&&(t=0),t==r.slice(11,12)},t.prototype.LUVATCheckDigit=function(r){return r.slice(0,6)%89==r.slice(6,8)},t.prototype.LVVATCheckDigit=function(r){if(/^[0-3]/.test(r))return!!/^[0-3][0-9][0-1][0-9]/.test(r);for(var t=0,e=[9,1,4,8,3,10,2,5,7,6],i=0;i<10;i++)t+=Number(r.charAt(i))*e[i];return t%11==4&&9==r[0]&&(t-=45),t%11==4?t=4-t%11:t%11>4?t=14-t%11:t%11<4&&(t=3-t%11),t==r.slice(10,11)},t.prototype.MTVATCheckDigit=function(r){for(var t=0,e=[3,4,6,7,8,9],i=0;i<6;i++)t+=Number(r.charAt(i))*e[i];return(t=37-t%37)==1*r.slice(6,8)},t.prototype.NLVATCheckDigit=function(r){for(var t=0,e=[9,8,7,6,5,4,3,2],i=0;i<8;i++)t+=Number(r.charAt(i))*e[i];return t%=11,t>9&&(t=0),t==r.slice(8,9)},t.prototype.NOVATCheckDigit=function(r){for(var t=0,e=[3,2,7,6,5,4,3,2],i=0;i<8;i++)t+=Number(r.charAt(i))*e[i];if(t=11-t%11,11==t&&(t=0),t<10)return t==r.slice(8,9)},t.prototype.PLVATCheckDigit=function(r){for(var t=0,e=[6,5,7,2,3,4,5,6,7],i=0;i<9;i++)t+=Number(r.charAt(i))*e[i];return t%=11,t>9&&(t=0),t==r.slice(9,10)},t.prototype.PTVATCheckDigit=function(r){for(var t=0,e=[9,8,7,6,5,4,3,2],i=0;i<8;i++)t+=Number(r.charAt(i))*e[i];return t=11-t%11,t>9&&(t=0),t==r.slice(8,9)},t.prototype.ROVATCheckDigit=function(r){var t=[7,5,3,2,1,7,5,3,2],e=r.length;t=t.slice(10-e);for(var i=0,c=0;c<r.length-1;c++)i+=Number(r.charAt(c))*t[c];return i=10*i%11,10==i&&(i=0),i==r.slice(r.length-1,r.length)},t.prototype.RSVATCheckDigit=function(r){for(var t=10,e=0,i=0;i<8;i++)e=(Number(r.charAt(i))+t)%10,0==e&&(e=10),t=2*e%11;return(t+1*r.slice(8,9))%10==1},t.prototype.RUVATCheckDigit=function(r){if(10==r.length){for(var t=0,e=[2,4,10,3,5,9,4,6,8,0],i=0;i<10;i++)t+=Number(r.charAt(i))*e[i];return t%=11,t>9&&(t%=10),t==r.slice(9,10)}if(12==r.length){for(var c=0,n=[7,2,4,10,3,5,9,4,6,8,0],u=0,o=[3,7,2,4,10,3,5,9,4,6,8,0],i=0;i<11;i++)c+=Number(r.charAt(i))*n[i];c%=11,c>9&&(c%=10);for(var i=0;i<11;i++)u+=Number(r.charAt(i))*o[i];return u%=11,u>9&&(u%=10),c==r.slice(10,11)&&u==r.slice(11,12)}},t.prototype.SEVATCheckDigit=function(r){for(var t=0,e=void 0,i=0;i<9;i+=2)e=Number(r.charAt(i)),t+=Math.floor(e/5)+2*e%10;for(var c=0,i=1;i<9;i+=2)c+=Number(r.charAt(i));return(10-(t+c)%10)%10==r.slice(9,10)},t.prototype.SIVATCheckDigit=function(r){for(var t=0,e=[8,7,6,5,4,3,2],i=0;i<7;i++)t+=Number(r.charAt(i))*e[i];return t=11-t%11,10==t&&(t=0),11!=t&&t==r.slice(7,8)},t.prototype.SKVATCheckDigit=function(r){return 0==Number(r%11)},t}();return function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DE";r(this,e),this.defaultVatCode=t}return e.prototype.validate=function(r){var e=this.defaultVatCode,i=[/^(AT)U(\d{8})$/,/^(BE)(0?\d{9})$/,/^(BG)(\d{9,10})$/,/^(CHE)(\d{9})(MWST|TVA|IVA)?$/,/^(CY)([0-59]\d{7}[A-Z])$/,/^(CZ)(\d{8,10})(\d{3})?$/,/^(DE)([1-9]\d{8})$/,/^(DK)(\d{8})$/,/^(EE)(10\d{7})$/,/^(EL)(\d{9})$/,/^(ES)([A-Z]\d{8})$/,/^(ES)([A-HN-SW]\d{7}[A-J])$/,/^(ES)([0-9YZ]\d{7}[A-Z])$/,/^(ES)([KLMX]\d{7}[A-Z])$/,/^(EU)(\d{9})$/,/^(FI)(\d{8})$/,/^(FR)(\d{11})$/,/^(FR)([A-HJ-NP-Z]\d{10})$/,/^(FR)(\d[A-HJ-NP-Z]\d{9})$/,/^(FR)([A-HJ-NP-Z]{2}\d{9})$/,/^(GB)?(\d{9})$/,/^(GB)?(\d{12})$/,/^(GB)?(GD\d{3})$/,/^(GB)?(HA\d{3})$/,/^(HR)(\d{11})$/,/^(HU)(\d{8})$/,/^(IE)(\d{7}[A-W])$/,/^(IE)([7-9][A-Z\*\+)]\d{5}[A-W])$/,/^(IE)(\d{7}[A-W][AH])$/,/^(IT)(\d{11})$/,/^(LV)(\d{11})$/,/^(LT)(\d{9}|\d{12})$/,/^(LU)(\d{8})$/,/^(MT)([1-9]\d{7})$/,/^(NL)(\d{9})B\d{2}$/,/^(NO)(\d{9})$/,/^(PL)(\d{10})$/,/^(PT)(\d{9})$/,/^(RO)([1-9]\d{1,9})$/,/^(RU)(\d{10}|\d{12})$/,/^(RS)(\d{9})$/,/^(SI)([1-9]\d{7})$/,/^(SK)([1-9]\d[2346-9]\d{7})$/,/^(SE)(\d{10}01)$/],c=r.toUpperCase();c=c.replace(/(\s|-|\.)+/g,"");var n=new t;return i.filter(function(r){return r.test(c)}).map(function(r){r.test(c);var t=RegExp.$1,i=RegExp.$2;return 0===t.length&&(t=e),n[t+"VATCheckDigit"](i)}).reduce(function(r,t){return t},!1)},e}()});
